<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Developing with Yahoo! Pipes</title><!-- metadata -->






<meta name="generator" content="S5">
<meta name="version" content="S5 1.1">
<meta name="presdate" content="2009-05-21">
<meta name="author" content="Philip S Tellis">
<meta name="company" content="Yahoo! Inc"><!-- configuration parameters -->

<meta name="defaultView" content="slideshow">
<meta name="controlVis" content="hidden"><!-- style sheet links -->

<link rel="stylesheet" href="../ui/default/slides.css" type="text/css" media="projection" id="slideProj">
<link rel="stylesheet" href="../ui/default/outline.css" type="text/css" media="screen" id="outlineStyle">
<link rel="stylesheet" href="../ui/default/print.css" type="text/css" media="print" id="slidePrint">
<link rel="stylesheet" href="../ui/default/opera.css" type="text/css" media="projection" id="operaFix">

<script src="../ui/default/slides.js" type="text/javascript"></script>


</head>

<body>

<div class="layout">
<div id="controls"><!-- DO NOT EDIT --></div>
<div id="currentSlide"><!-- DO NOT EDIT --></div>
<div id="header"></div>
<div id="footer">
<h1><a href="http://www.webdu.com.au/">WebDU</a> - 2009-05-21</h1>
<h2>Developing with Yahoo! Pipes</h2>
</div>

</div>


<div class="presentation">

<div class="slide">
<h1>Developing with Yahoo! Pipes</h1>
<h3>Philip S Tellis</h3>
<h4>Yahoo! Inc</h4>
<h2>WebDU</h2>
</div>


<div class="slide">
<h1><code>$ whoami</code></h1>
<p class="bgimage"><a href="http://flickr.com/photos/code_martial/1543735477/" style="background-image: url('../images/1543735477_f302fdc3a3.jpg');">flickr:code_martial/1543735477</a></p>

<ul>
<li>Philip Tellis</li>
<li>geek</li>
<li>yahoo</li>
<li><a href="http://twitter.com/bluesmoon">@bluesmoon</a></li>
<li><a href="http://bluesmoon.info/">http://bluesmoon.info/</a></li>
</ul>

</div>


<div class="slide">
<h1></h1>
<p class="alert"> Do you like Unix Pipes?</p>

</div>


<div class="slide">
<h1></h1>
<p class="alert"> Do you deal with web services?</p>

</div>


<div class="slide">
<h1></h1>
<p class="alert"> Have you ever wished that you could pass the output of multiple web services through a unix pipe?</p>

</div>


<div class="slide">
<h1></h1>
<p class="alert"> Voilà: <a href="http://pipes.yahoo.com/">pipes.yahoo.com</a></p>

</div>


<div class="slide">
<h1></h1>
<p class="alert"> Voilà: <a href="http://pipes.yahoo.com/">pipes.yahoo.com</a><br><small>(You need a Yahoo! Id)</small></p>

</div>


<div class="slide">
<h1>Nomenclature</h1>
<ul>
<li><code>source</code>: your data source, similar to <code>cat</code> or <code>echo</code>.</li>
<li><code>operator</code>: anything that operates on data.</li>
<li><code>pipe</code>: a pipe of data from an operator or source to an operator or destination, same as <code>|</code>.</li>
<li><code>output</code>: the last element in your pipe, this returns data to the user.</li>
</ul>

</div>


<div class="slide">
<h1></h1>
<p class="bgimage"><a href="http://flickr.com/photos/jurvetson/855530042/" style="background-image: url('images/855530042_262bb5c1fc.jpg');">flickr:jurvetson/855530042</a></p>

<p class="alert"> Part I: Creating Pipes using the UI</p>

</div>


<div class="slide">
<h1><span class="index">1<span class="subindex"></span></span>A simple feed aggregator</h1>
<ul>
<li>Create a fetch feed source</li>
<li>Give it a couple of feeds (eg: <a href="http://rss.slashdot.org/Slashdot/slashdot">http://rss.slashdot.org/Slashdot/slashdot</a>, <a href="http://digg.com/rss/index.xml">http://digg.com/rss/index.xml</a>)</li>
<li>Read the output as RSS</li>
</ul>

</div>


<div class="slide">
<h1><span class="index">1<span class="subindex"></span></span>A simple feed aggregator</h1>
<p class="alert"> Let Pipes figure out the feed URL</p>

</div>


<div class="slide">
<h1><span class="index">1<span class="subindex"></span></span>A simple feed aggregator</h1>
<p class="alert"> Let Pipes figure out the feed URL<br>(use the Fetch Site Feed source)</p>

</div>


<div class="slide">
<h1><span class="index">1<span class="subindex"></span></span>A simple feed aggregator</h1>
<p class="alert"> limit it to 5 items only</p>

</div>


<div class="slide">
<h1><span class="index">1<span class="subindex"></span></span>A simple feed aggregator</h1>
<p class="alert"> limit it to 5 items only<br>(use Truncate)</p>

</div>


<div class="slide">
<h1><span class="index">1<span class="subindex"></span></span>A simple feed aggregator</h1>
<p class="alert"> Limit it to only 2 items per feed</p>

</div>


<div class="slide">
<h1><span class="index">2<span class="subindex"></span></span>Fetch photos from flickr</h1>
<ul>
<li>Create a flickr source</li>
<li>Enter a tag</li>
<li>Read the output as RSS, or on a map, or as an image list</li>
</ul>

</div>


<div class="slide">
<h1><span class="index">2<span class="subindex"></span></span>Fetch photos from flickr - configurable</h1>
<ul>
<li>Make the tag user configurable</li>
<li>Add a string input</li>
<li>Connect it to the tag entry</li>
<li>Run the pipe</li>
</ul>

</div>


<div class="slide">
<h1><span class="index">2<span class="subindex"></span></span>Fetch photos from flickr - url configurable</h1>
<ul>
<li>Get the feed URL for the pipe</li>
<li>Customise it</li>
</ul>

</div>


<div class="slide">
<h1><span class="index">3<span class="subindex"></span></span>Loops</h1>
<p class="alert"> For each item in a feed, do something</p>

</div>


<div class="slide">
<h1><span class="index">3<span class="subindex"></span></span>Loops</h1>
<p class="alert"> Translate an English feed to French</p>

</div>


<div class="slide">
<h1><span class="index">3<span class="subindex"></span></span>Loops</h1>
<ul>
<li>Add a loop operator</li>
<li>Add a translation operator inside the loop</li>
<li>Select item.title for the input and output of the loop</li>
</ul>

</div>


<div class="slide">
<h1><span class="index">5<span class="subindex"></span></span>BBC news in flickr</h1>
<ul>
<li>Fetch a news feed from news.bbc.co.uk</li>
<li>Use the term extractor to get tags from the feed</li>
<li>Pass these terms to the flickr input</li>
</ul>

</div>


<div class="slide">
<h1><span class="index">5<span class="subindex"></span></span>BBC news in flickr</h1>
<p class="bgimage"><a href="http://flickr.com/photos/xiffy/3144579667/" style="background-image: url('images/3144579667_63ff470102_b.jpg');">flickr:xiffy/3144579667</a></p>

<p class="alert"> Can we do this with a subpipe?</p>

</div>


<div class="slide">
<h1>Pipes in the wild</h1>
<ul>
<li><a href="http://www.readwriteweb.com/archives/the_ultimate_yahoo_pipes_list.php">Read Write Web's best</a></li>
<li><a href="http://pipes.yahoo.com/amoroso/quakescope">Quakescope</a></li>
<li><a href="http://www.xefer.com/2008/05/twitter">Twitter stats on a Google Chart</a></li>
<li><a href="http://www.iowaflood.com/">Iowa Flood</a></li>
</ul>

</div>


<div class="slide">
<h1></h1>
<p class="bgimage"><a href="http://flickr.com/photos/moriza/96724309/" style="background-image: url('images/96724309_985b8acd3f.jpg');">flickr:moriza/96724309</a></p>

<p class="alert"> Part II: Reading pipes in PHP</p>

</div>


<div class="slide">
<h1>How do you read in a URL in PHP?</h1>
<ul>
<li>I use curl</li>
</ul>

</div>


<div class="slide">
<h1>How do you read in a URL in PHP?</h1>
<pre class="dark">
   $url = 'http://pipes.yahoo.com/pipes/pipe.run?'
        . '_id=vI7LxsJe3BGRHaLP6UjTQA&_render=php';

   function fetchURL($url)
   {
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url );
    curl_setopt($ch, CURLOPT_POST, 0 );
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    return curl_exec($ch);
   }
</pre>

</div>


<div class="slide">
<h1>How do you read in a URL in PHP?</h1>
<pre class="dark">
   $url = 'http://pipes.yahoo.com/pipes/pipe.run?'
        . '_id=vI7LxsJe3BGRHaLP6UjTQA<em style="background-color:#ddd;">&_render=php</em>';

   function fetchURL($url)
   {
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url );
    curl_setopt($ch, CURLOPT_POST, 0 );
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    return curl_exec($ch);
   }
</pre>

</div>


<div class="slide">
<h1>How do you read in a URL in PHP?</h1>
<pre class="dark">
   $url = 'http://pipes.yahoo.com/pipes/pipe.run?'
        . '_id=vI7LxsJe3BGRHaLP6UjTQA&_render=php';

   function fetchURL($url)
   {
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, $url );
    curl_setopt($ch, CURLOPT_POST, 0 );
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);
    return curl_exec($ch);
   }

   $data = unserialize(fetchURL($url));
</pre>

</div>


<div class="slide">
<h1></h1>
<p class="alert"> Part III: YQL</p>

</div>


<div class="slide">
<h1>What is YQL?</h1>
<ul>
<li class="lighter">Yahoo! Query Language</li>
<li class="lighter">SQL like interface to the web</li>
<li class="lighter"><a href="http://developer.yahoo.com/yql/">http://developer.yahoo.com/yql/</a></li>
</ul>

</div>


<div class="slide">
<h1>What is YQL?</h1>
<ul>
<li>Yahoo! Query Language</li>
<li class="lighter">SQL like interface to the web</li>
<li class="lighter"><a href="http://developer.yahoo.com/yql/">http://developer.yahoo.com/yql/</a></li>
</ul>

</div>


<div class="slide">
<h1>What is YQL?</h1>
<ul>
<li>Yahoo! Query Language</li>
<li>SQL like interface to the web</li>
<li class="lighter"><a href="http://developer.yahoo.com/yql/">http://developer.yahoo.com/yql/</a></li>
</ul>

</div>


<div class="slide">
<h1>What is YQL?</h1>
<ul>
<li>Yahoo! Query Language</li>
<li>SQL like interface to the web</li>
<li><a href="http://developer.yahoo.com/yql/">http://developer.yahoo.com/yql/</a></li>
</ul>

</div>


<div class="slide">
<h1>YQL</h1>
<ul>
<li>Combine all APIs on the Web into a single API!</li>
<li>Docs: <a href="http://developer.yahoo.com/yql">http://developer.yahoo.com/yql</a></li>
<li>Public URL: <a href="http://query.yahooapis.com/v1/public/yql">http://query.yahooapis.com/v1/public/yql</a></li>
<li>OAuth'ed URL: <a href="http://query.yahooapis.com/v1/yql">http://query.yahooapis.com/v1/yql</a></li>
<li>Cool Console: <a href="http://developer.yahoo.com/yql/console/">http://developer.yahoo.com/yql/console/</a></li>
</ul>

</div>


<div class="slide">
<h1>Fetch flickr photos using YQL</h1>
<pre><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$url&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"http://query.yahooapis.com/v1/public/yql?q="</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$q&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"select&nbsp;*&nbsp;from&nbsp;flickr.photos.search(100)&nbsp;where&nbsp;text='webdu'"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$fmt&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"xml"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">simplexml_load_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$url</span><span style="color: #007700">.</span><span style="color: #0000BB">urlencode</span><span style="color: #007700">(</span><span style="color: #0000BB">$q</span><span style="color: #007700">).</span><span style="color: #DD0000">"&amp;format=$fmt"</span><span style="color: #007700">);<br /><br />foreach(</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">attributes</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://www.yahooapis.com/v1/base.rng'</span><span style="color: #007700">)&nbsp;as&nbsp;</span><span style="color: #0000BB">$k</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">$v</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;$</span><span style="color: #0000BB">$k</span><span style="color: #007700">=(string)</span><span style="color: #0000BB">$v</span><span style="color: #007700">;<br />}<br /><br />echo&nbsp;&lt;&lt;&lt;EOB<br /></span><span style="color: #0000BB">&nbsp;$count&nbsp;photos&nbsp;fetched&nbsp;from<br />&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">diagnostics</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">url</span><span style="color: #007700">}</span><span style="color: #0000BB">&nbsp;in&nbsp;<br />&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">diagnostics</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">url</span><span style="color: #007700">[</span><span style="color: #DD0000">'execution-time'</span><span style="color: #007700">]}</span><span style="color: #0000BB">&nbsp;seconds&lt;br&gt;<br /></span><span style="color: #007700">EOB;<br /><br /></span><span style="color: #0000BB">$flickr&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"http://static.flickr.com/"</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">results</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">photo&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;img&nbsp;src=\"$flickr{$p['server']}/{$p['id']}_{$p['secret']}_s.jpg\"/&gt;\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;<br /></span>
</span>
</pre>

<p><a href="flickr-yql.php">Flickr photos with YQL</a></p>

</div>


<div class="slide">
<h1>Non-Yahoo! web services</h1>
<pre><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$yql&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"http://query.yahooapis.com/v1/public/yql?q="</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$q&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"use&nbsp;'http://airports.pidgets.com/v1/tables.xml'&nbsp;as&nbsp;airports;"</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">"select&nbsp;*&nbsp;from&nbsp;airports(5)&nbsp;where&nbsp;near='Sydney'&nbsp;and&nbsp;direct_flights_min=20"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">simplexml_load_file</span><span style="color: #007700">(</span><span style="color: #0000BB">$yql</span><span style="color: #007700">.</span><span style="color: #0000BB">urlencode</span><span style="color: #007700">(</span><span style="color: #0000BB">$q</span><span style="color: #007700">).</span><span style="color: #DD0000">'&amp;format=xml'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;b&gt;URLs&nbsp;accessed:&lt;/b&gt;&lt;br&gt;\n"</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">diagnostics</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">url&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$u</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"&lt;a&nbsp;href=\"$u\"&gt;$u&lt;/a&gt;&lt;br&gt;\n"</span><span style="color: #007700">;<br />}<br />echo&nbsp;</span><span style="color: #DD0000">"&lt;br&gt;"</span><span style="color: #007700">;<br />foreach(</span><span style="color: #0000BB">$x</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">results</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">airport&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;echo&nbsp;&lt;&lt;&lt;EOB<br /></span><span style="color: #0000BB">&nbsp;&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">code</span><span style="color: #007700">}</span><span style="color: #0000BB">&nbsp;&lt;a&nbsp;href="</span><span style="color: #007700">{</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">url</span><span style="color: #007700">}</span><span style="color: #0000BB">"&gt;</span><span style="color: #007700">{</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">}</span><span style="color: #0000BB">&lt;/a&gt;&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dist</span><span style="color: #007700">}</span><span style="color: #0000BB">km&lt;br&gt;<br /></span><span style="color: #007700">EOB;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>&nbsp;<br /></span>
</pre>

<p><a href="airports-yql.php">Airports near Sydney</a></p>

</div>


<div class="slide">
<h1>Thank you</h1>
<ul>
<li><a href="http://pipes.yahoo.com/">pipes.yahoo.com</a></li>
<li><a href="http://developer.yahoo.com/yql/">developer.yahoo.com/yql/</a></li>
</ul>

</div>

</div>

<p>Made with Eric A Meyer's S5</p>

</body>
</html>
